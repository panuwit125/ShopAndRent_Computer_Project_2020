{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar __jsx = React.createElement;\nvar FormItem = _Form.Item;\nimport React, { useState, useEffect } from \"react\";\nimport router from \"next/router\";\nimport axios from \"axios\";\n\nfunction loginPage() {\n  var _useState = useState(\"\"),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      firstname = _useState3[0],\n      setFirstname = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      lastname = _useState4[0],\n      setLastname = _useState4[1];\n\n  var _useState5 = useState(''),\n      namelogin = _useState5[0],\n      setNameLogin = _useState5[1];\n\n  var _useState6 = useState(''),\n      passwordlogin = _useState6[0],\n      setPasswordLogin = _useState6[1];\n\n  useEffect(function () {\n    localStorage.clear();\n  }, []);\n\n  var loginData = function loginData() {\n    if (!namelogin || !passwordlogin) {\n      alert('กรุณากรอกข้อมูลให้ครบ');\n    } else {\n      var data = {\n        user_name: namelogin,\n        pass_word: passwordlogin\n      };\n      axios({\n        method: \"post\",\n        url: \"http://localhost:5000/signin\",\n        data: data\n      }).then(function (res) {\n        console.log(res);\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem('user', JSON.stringify(res.data.savedUser));\n        localStorage.setItem('type', \"Shop\");\n        router.push('/page.shop');\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    }\n  };\n\n  var postData = function postData() {\n    if (!name || !password || !firstname || !lastname) {\n      alert('กรุณากรอกข้อมูลให้ครบ');\n    } else {\n      var data = {\n        user_name: name,\n        pass_word: password,\n        first_name: firstname,\n        last_name: lastname\n      };\n      axios({\n        method: \"post\",\n        url: \"http://localhost:5000/signup\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        data: data\n      }).then(function (res) {\n        console.log(res);\n        router.push('/page.login');\n      })[\"catch\"](function (error) {\n        console.log(\"ERROR\", error);\n      });\n    }\n  };\n\n  return __jsx(FormItem, {\n    style: {\n      margin: \"0px\"\n    }\n  }, __jsx(\"div\", {\n    className: \"lg\"\n  }, __jsx(\"div\", {\n    className: \"lg-card\"\n  }, __jsx(\"div\", null, __jsx(\"h2\", null, \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\"), __jsx(\"h3\", null, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"), __jsx(_Input, {\n    className: \"lg-input\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    }\n  }), __jsx(\"h3\", null, \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"), __jsx(_Input, {\n    className: \"lg-input\",\n    type: \"password\",\n    placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    }\n  }), __jsx(\"h3\", null, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"), __jsx(_Input, {\n    className: \"lg-input\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\",\n    value: firstname,\n    onChange: function onChange(e) {\n      return setFirstname(e.target.value);\n    }\n  }), __jsx(\"h3\", null, \"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"), __jsx(_Input, {\n    className: \"lg-input\",\n    placeholder: \"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\",\n    value: lastname,\n    onChange: function onChange(e) {\n      return setLastname(e.target.value);\n    }\n  }), __jsx(_Button, {\n    className: \"lg-btn\",\n    onClick: function onClick() {\n      return postData();\n    }\n  }, \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\")), __jsx(\"div\", null, __jsx(\"h2\", null, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"), __jsx(\"h3\", null, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"), __jsx(_Input, {\n    className: \"lg-input\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\",\n    value: namelogin,\n    onChange: function onChange(e) {\n      return setNameLogin(e.target.value);\n    }\n  }), __jsx(\"h3\", null, \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"), __jsx(_Input, {\n    value: passwordlogin,\n    onChange: function onChange(e) {\n      return setPasswordLogin(e.target.value);\n    },\n    className: \"lg-input\",\n    type: \"password\",\n    placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"\n  }), __jsx(_Button, {\n    className: \"lg-btn\",\n    onClick: function onClick() {\n      return loginData();\n    }\n  }, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\")))));\n}\n\nexport default loginPage;","map":null,"metadata":{},"sourceType":"module"}