{"ast":null,"code":"import \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar __jsx = React.createElement;\nvar FormItem = _Form.Item;\nvar Meta = _Card.Meta;\nimport React, { useState, useEffect } from \"react\";\nimport Navbar from \"./components/component.navbar\";\nimport CardProduct from \"./components/component.cardproduct\";\nimport Header from \"./components/component.header\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateTypeBland } from \"../store/actions/postAction\";\nimport axios from \"axios\";\n\nfunction ShopPage() {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      TypeBland = _useSelector.TypeBland;\n\n  var _useState = useState(false),\n      checkLogin = _useState[0],\n      setCheckLogin = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setisLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      loadingTypebland = _useState3[0],\n      setloadingTypebland = _useState3[1];\n\n  var _useState4 = useState(''),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState(),\n      product = _useState5[0],\n      setProduct = _useState5[1];\n\n  useEffect(function () {\n    var token = localStorage.getItem(\"token\");\n    var user = JSON.parse(localStorage.getItem(\"user\"));\n    console.log(\"token\", token, user);\n\n    if (token) {\n      setUser(user.user_name);\n      setCheckLogin(true);\n    }\n\n    getProduct(TypeBland);\n  }, []);\n\n  var getProduct = function getProduct(product) {\n    var body = {\n      bland_product: product\n    };\n    axios.post(\"http://localhost:5000/showproduct\", body).then(function (res) {\n      console.log(res);\n      setProduct(res.data);\n      setisLoading(true);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    if (loadingTypebland) {\n      getProduct(TypeBland);\n    } else {\n      setloadingTypebland(true);\n    }\n  }, [TypeBland]);\n\n  if (!isLoading) {\n    return null;\n  } else {\n    console.log(product);\n    return __jsx(FormItem, {\n      style: {\n        margin: \"0px\"\n      }\n    }, __jsx(\"div\", {\n      className: \"sp\"\n    }, __jsx(\"div\", {\n      className: \"br-header\"\n    }, __jsx(Header, {\n      page: \"Shop\"\n    })), __jsx(\"div\", {\n      className: \"br-body\"\n    }, __jsx(\"div\", {\n      className: \"sp-body-1\"\n    }, __jsx(Navbar, {\n      page: \"Shop\",\n      status: checkLogin,\n      user: user\n    })), __jsx(\"div\", {\n      className: \"sp-body-2\"\n    }, __jsx(\"div\", {\n      className: \"sp-body-2-header\"\n    }, __jsx(\"h1\", {\n      style: {\n        color: \"black\",\n        fontSize: \"40px\"\n      }\n    }, TypeBland)), __jsx(\"div\", {\n      className: \"sp-body-2-body\"\n    }, product.map(function (data, index) {\n      console.log(data, index);\n      return __jsx(CardProduct, {\n        data: data\n      });\n    }))))));\n  }\n}\n\nexport default ShopPage;","map":null,"metadata":{},"sourceType":"module"}