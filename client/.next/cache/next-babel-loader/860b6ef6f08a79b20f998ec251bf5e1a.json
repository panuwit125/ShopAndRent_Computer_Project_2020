{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nvar __jsx = React.createElement;\nimport React, { Component, useContext, useEffect, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport Axios from \"axios\";\nimport Duration from \"./component.duration\";\nimport { useDispatch, useSelector } from \"react-redux\"; //import { CounterContext } from \"../../store/CouterProvider\";\n\nimport { updateTime } from \"../../store/actions/postAction\";\nimport img1 from \"../../public/9.png\";\n\nfunction Player(props) {\n  const dispatch = useDispatch();\n  const {\n    time\n  } = useSelector(state => state.post);\n  const {\n    0: url,\n    1: seturl\n  } = useState(null); //const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\n\n  const {\n    0: duration,\n    1: setduration\n  } = useState(0);\n  const {\n    0: playing,\n    1: setplaying\n  } = useState(false);\n  const {\n    0: pip,\n    1: setpip\n  } = useState(false);\n  const {\n    0: loaded,\n    1: setloaded\n  } = useState(0);\n  useEffect(() => {\n    seturl(props.url);\n    setpip(true);\n    setplaying(true);\n  }, [props.url]);\n\n  const handleDuration = duration => {\n    //setduration(duration);\n    dispatch(updateTime(duration));\n    console.log(\"onDuration\", duration);\n    console.log(\"Time\", time);\n  };\n\n  const handlePlayPause = () => {\n    a();\n  };\n\n  const a = async () => {\n    const b = () => {\n      return new Promise(resolve => resolve(setplaying(false)));\n    };\n\n    const c = () => {\n      return new Promise(resolve => resolve(setplaying(true)));\n    };\n\n    await b();\n    await c();\n    await console.log('button');\n  };\n\n  const ButtonShow = () => {\n    return __jsx(_Button, {\n      onClick: handlePlayPause,\n      shape: \"circle\",\n      size: \"middle\",\n      className: \"nu-btn-reset-covidqt\"\n    }, __jsx(\"img\", {\n      src: img1,\n      className: \"img-rotate-audio\"\n    }));\n  };\n\n  if (props.isLoading) {\n    if (pip) {\n      return __jsx(\"div\", {\n        style: {\n          color: \"white\"\n        }\n      }, __jsx(ReactPlayer, {\n        controls: true,\n        light: false,\n        playing: playing,\n        width: \"0%\",\n        height: \"0%\",\n        url: url,\n        onDuration: handleDuration //onProgress={handleProgress}\n\n      }), playing ? __jsx(ButtonShow, null) : null);\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\n\nexport default Player;","map":null,"metadata":{},"sourceType":"module"}