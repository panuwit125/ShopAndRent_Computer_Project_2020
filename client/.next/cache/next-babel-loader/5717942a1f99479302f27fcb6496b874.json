{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\covid-web-develop\\\\covid-web-develop\\\\pages\\\\components\\\\component.audioplayer.js\";\nvar __jsx = React.createElement;\nimport React, { Component, useContext, useEffect, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport Axios from \"axios\"; //import Duration from \"./Duration\";\n//import { CounterContext } from \"../../store/CouterProvider\";\n\nfunction Player(props) {\n  const {\n    0: url,\n    1: seturl\n  } = useState(null);\n  const {\n    0: duration,\n    1: setduration\n  } = useState(0);\n  const {\n    0: played,\n    1: setplayed\n  } = useState(0);\n  const {\n    0: pip,\n    1: setpip\n  } = useState(false);\n  const {\n    0: loaded,\n    1: setloaded\n  } = useState(0);\n  const {\n    0: A,\n    1: setA\n  } = useState(0);\n  const {\n    0: B,\n    1: setB\n  } = useState(0);\n  const {\n    0: C,\n    1: setC\n  } = useState(0);\n  const {\n    0: D,\n    1: setD\n  } = useState(null); //const { updateDuration } = useContext(CounterContext);\n\n  const load = url => {\n    seturl(url);\n    setplayed(0);\n    setloaded(0);\n    setpip(false);\n  };\n\n  () => {\n    Axios({\n      method: \"get\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`\n      },\n      url: url\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  useEffect(() => {\n    seturl(props.url);\n  });\n\n  const handleStop = () => {\n    this.setState({\n      url: null,\n      playing: false\n    });\n  };\n\n  const handleDuration = duration => {\n    //console.log(\"onDuration\", duration);\n    setduration(duration);\n  };\n\n  const handleSeekChange = e => {\n    setplayed(parseFloat(e.target.value));\n  };\n\n  const handleProgress = state => {\n    //console.log(\"onProgress\", state);\n    setA(duration * state.played);\n    setB(duration * (1 - state.played));\n    updateDuration(A / duration * 100);\n  };\n\n  const renderLoadButton = (url, label) => {\n    return __jsx(\"button\", {\n      onClick: () => this.load(url),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 12\n      }\n    }, label);\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, __jsx(ReactPlayer, {\n    controls: true,\n    light: false,\n    playing: true,\n    width: \"0%\",\n    height: \"0%\",\n    onDuration: handleDuration,\n    onProgress: handleProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }));\n}\n/*<button onClick={handleStop}>Stop</button>\r\n      <Duration seconds={duration} />\r\n      <p>elapsed</p>\r\n      <Duration seconds={A} />\r\n      <p>remaining</p>\r\n      <Duration seconds={B} />      {renderLoadButton(\r\n        \"https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3\",\r\n        \"mp3\"\r\n      )}\r\n      <p />*/\n\n\nexport default Player;","map":{"version":3,"sources":["D:/Coding/covid-web-develop/covid-web-develop/pages/components/component.audioplayer.js"],"names":["React","Component","useContext","useEffect","useState","ReactPlayer","Axios","Player","props","url","seturl","duration","setduration","played","setplayed","pip","setpip","loaded","setloaded","A","setA","B","setB","C","setC","D","setD","load","method","headers","Authorization","localStorage","getItem","then","res","console","log","handleStop","setState","playing","handleDuration","handleSeekChange","e","parseFloat","target","value","handleProgress","state","updateDuration","renderLoadButton","label","color"],"mappings":"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","sourcesContent":["import React, { Component, useContext, useEffect, useState } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport Axios from \"axios\";\r\n//import Duration from \"./Duration\";\r\n//import { CounterContext } from \"../../store/CouterProvider\";\r\n\r\nfunction Player(props) {\r\n  const [url, seturl] = useState(null);\r\n  const [duration, setduration] = useState(0);\r\n  const [played, setplayed] = useState(0);\r\n  const [pip, setpip] = useState(false);\r\n  const [loaded, setloaded] = useState(0);\r\n  const [A, setA] = useState(0);\r\n  const [B, setB] = useState(0);\r\n  const [C, setC] = useState(0);\r\n  const [D, setD] = useState(null);\r\n  //const { updateDuration } = useContext(CounterContext);\r\n\r\n  const load = url => {\r\n    seturl(url);\r\n    setplayed(0);\r\n    setloaded(0);\r\n    setpip(false);\r\n  };\r\n  \r\n() => {\r\n      Axios({\r\n          method:\"get\",\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('jwt')}` },\r\n          url: url\r\n      })\r\n      .then((res)=>{\r\n        console.log(res);\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    seturl(props.url);\r\n  });\r\n  const handleStop = () => {\r\n    this.setState({ url: null, playing: false });\r\n  };\r\n  const handleDuration = duration => {\r\n    //console.log(\"onDuration\", duration);\r\n\r\n    setduration(duration);\r\n  };\r\n  const handleSeekChange = e => {\r\n    setplayed(parseFloat(e.target.value));\r\n  };\r\n  const handleProgress = state => {\r\n    //console.log(\"onProgress\", state);\r\n    setA(duration * state.played);\r\n    setB(duration * (1 - state.played));\r\n    updateDuration((A / duration) * 100);\r\n  };\r\n  const renderLoadButton = (url, label) => {\r\n    return <button onClick={() => this.load(url)}>{label}</button>;\r\n  };\r\n\r\n  return (\r\n    <div style={{ color: \"white\" }}>\r\n      <ReactPlayer\r\n        controls={true}\r\n        light={false}\r\n        playing={true}\r\n        width=\"0%\"\r\n        height=\"0%\"\r\n        \r\n        onDuration={handleDuration}\r\n        onProgress={handleProgress}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n/*<button onClick={handleStop}>Stop</button>\r\n      <Duration seconds={duration} />\r\n      <p>elapsed</p>\r\n      <Duration seconds={A} />\r\n      <p>remaining</p>\r\n      <Duration seconds={B} />      {renderLoadButton(\r\n        \"https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3\",\r\n        \"mp3\"\r\n      )}\r\n      <p />*/\r\nexport default Player;\r\n"]},"metadata":{},"sourceType":"module"}