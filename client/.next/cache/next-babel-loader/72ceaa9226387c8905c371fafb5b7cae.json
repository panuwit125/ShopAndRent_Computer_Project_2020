{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useMemo } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport Axios from \"axios\";\nimport Duration from \"./component.duration\";\nimport { useDispatch, useSelector } from \"react-redux\"; //import { CounterContext } from \"../../store/CouterProvider\";\n\nimport { updateTime } from \"../../store/actions/postAction\";\nimport img1 from \"../../public/9.png\";\n\nfunction Player(props) {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      time = _useSelector.time;\n\n  var _useState = useState(null),\n      url = _useState[0],\n      seturl = _useState[1]; //const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\n\n\n  var _useState2 = useState(0),\n      duration = _useState2[0],\n      setduration = _useState2[1];\n\n  var _useState3 = useState(false),\n      playing = _useState3[0],\n      setplaying = _useState3[1];\n\n  var _useState4 = useState(false),\n      pip = _useState4[0],\n      setpip = _useState4[1];\n\n  var _useState5 = useState(0),\n      loaded = _useState5[0],\n      setloaded = _useState5[1];\n\n  useMemo(function () {\n    setpip(false);\n    seturl(props.url);\n    setplaying(true);\n    setpip(true); //update();\n  }, [props.url]);\n\n  var handleDuration = function handleDuration(duration) {//setduration(duration);\n    //dispatch(updateTime(duration));\n  };\n\n  var handlePlayPause = function handlePlayPause() {\n    a();\n    console.log(\"test audio\");\n  };\n\n  var a = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var b, c;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              b = function b() {\n                return new Promise(function (resolve) {\n                  return resolve(setplaying(false));\n                });\n              };\n\n              c = function c() {\n                return new Promise(function (resolve) {\n                  return resolve(setplaying(true));\n                });\n              };\n\n              _context.next = 4;\n              return b();\n\n            case 4:\n              _context.next = 6;\n              return c();\n\n            case 6:\n              _context.next = 8;\n              return console.log(\"Audio Again!\");\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function a() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var ButtonShow = function ButtonShow() {\n    return __jsx(_Button, {\n      onClick: handlePlayPause,\n      shape: \"circle\",\n      size: \"middle\",\n      className: \"nu-btn-reset-covidqt\"\n    }, __jsx(\"img\", {\n      src: img1,\n      className: \"img-rotate-audio\"\n    }));\n  };\n\n  if (pip) {\n    console.log(\"Audio Ready!\");\n    return __jsx(\"div\", {\n      style: {\n        color: \"white\"\n      }\n    }, __jsx(ReactPlayer, {\n      controls: true,\n      light: false,\n      playing: playing,\n      width: \"0%\",\n      height: \"0%\",\n      url: url,\n      onDuration: handleDuration\n    }), playing ? __jsx(ButtonShow, null) : null);\n  } else {\n    return null;\n  }\n}\n\nexport default Player;","map":null,"metadata":{},"sourceType":"module"}