{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"D:\\\\Coding\\\\covid-web-develop\\\\covid-web-develop\\\\pages\\\\components\\\\component.setdataprofile.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport img1 from \"../../public/16.png\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { updateFirstName, updateLastName, updateSsid, updateBird, updatePost } from \"../../store/actions/postAction\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nconst FormItem = _Form.Item;\nconst {\n  Search\n} = _Input;\n\nfunction setDataProfile() {\n  const dispatch = useDispatch();\n  const {\n    0: token,\n    1: setToken\n  } = useState(null);\n  const {\n    SSID\n  } = useSelector(state => state.post);\n  const pino = \"3640600077526\";\n  useEffect(() => {\n    setToken(localStorage.getItem(\"jwt\"));\n  });\n\n  const handlecheckssid = async () => {\n    console.log(\"I have token\", token);\n    await axios({\n      method: \"post\",\n      url: \"http://34.87.54.114:8003/api/v1/patient/patientDetail\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      data: {\n        patient_no: SSID\n      }\n    }).then(function (res) {\n      localStorage.setItem(\"user\", res.data[\"payload\"]);\n      dispatch(updateFirstName(res.data.payload.firstName));\n      dispatch(updateLastName(res.data.payload.lastName));\n      dispatch(updateSsid(res.data.payload.pid));\n      dispatch(updateBird(res.data.payload.birthDate));\n      dispatch(updatePost(res.data.payload.provinceID));\n      Router.push(\"/page.covid4\");\n    }).catch(err => {\n      console.log(\"error\", err);\n      console.log(\"เตือนไม่พอข้อมูล\", err.response.status);\n\n      if (err.response.status === 401) {\n        axios({\n          method: \"GET\",\n          url: \"http://34.87.54.114:8003/api/v1/manage/token\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwt-refresh\")}`\n          }\n        }).then(res => {\n          localStorage.setItem('jwt', res.data['accept-token']);\n          console.log('Update Token Success!');\n          handlecheckssid();\n        }).catch(error => {\n          console.log(\"Error Code\", error.response.status);\n          Router.push('/page.covid1');\n        });\n      }\n      /*dispatch(updateFirstName(\"\"));\r\n      dispatch(updateLastName(\"\"));\r\n      dispatch(updateSsid(\"\"));\r\n      dispatch(updateBird(\"\"));\r\n      dispatch(updatePost(\"\"));\r\n      Router.push(\"/page.covid3\");*/\n\n    });\n  };\n\n  return __jsx(FormItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    style: {\n      fontSize: \"42px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E43\\u0E2A\\u0E48\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\")), __jsx(\"div\", {\n    style: {\n      flexDirection: \"row\",\n      display: \"flex\",\n      width: \"100%\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, __jsx(_Input, {\n    style: {\n      padding: \"25px\",\n      borderRadius: \"50px 0px 0px 50px\",\n      fontSize: \"22px\",\n      color: \"white\"\n    },\n    placeholder: \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\",\n    value: SSID,\n    onChange: e => dispatch(updateSsid(e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, __jsx(_Button, {\n    style: {\n      height: \"100%\",\n      borderRadius: \"0px 50px 50px 0px\"\n    },\n    type: \"primary\",\n    onClick: handlecheckssid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, \"\\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A\"))))));\n}\n\nexport default setDataProfile;","map":{"version":3,"sources":["D:/Coding/covid-web-develop/covid-web-develop/pages/components/component.setdataprofile.js"],"names":["Link","img1","useDispatch","useSelector","useEffect","useState","updateFirstName","updateLastName","updateSsid","updateBird","updatePost","axios","Router","FormItem","Item","Search","setDataProfile","dispatch","token","setToken","SSID","state","post","pino","localStorage","getItem","handlecheckssid","console","log","method","url","headers","Authorization","data","patient_no","then","res","setItem","payload","firstName","lastName","pid","birthDate","provinceID","push","catch","err","response","status","error","display","flexDirection","justifyContent","fontSize","width","padding","borderRadius","color","e","target","value","height"],"mappings":"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","sourcesContent":["import {\r\n  Form,\r\n  Select,\r\n  InputNumber,\r\n  DatePicker,\r\n  Switch,\r\n  Slider,\r\n  Button,\r\n  Input,\r\n} from \"antd\";\r\nimport Link from \"next/link\";\r\nimport img1 from \"../../public/16.png\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  updateFirstName,\r\n  updateLastName,\r\n  updateSsid,\r\n  updateBird,\r\n  updatePost,\r\n} from \"../../store/actions/postAction\";\r\nimport axios from \"axios\";\r\nimport Router from \"next/router\";\r\nconst FormItem = Form.Item;\r\nconst { Search } = Input;\r\n\r\nfunction setDataProfile() {\r\n  const dispatch = useDispatch();\r\n  const [token, setToken] = useState(null);\r\n  const { SSID } = useSelector((state) => state.post);\r\n  const pino = \"3640600077526\";\r\n  useEffect(() => {\r\n    setToken(localStorage.getItem(\"jwt\"));\r\n  });\r\n  const handlecheckssid = async () => {\r\n    console.log(\"I have token\",token);\r\n    await axios({\r\n      method: \"post\",\r\n      url: \"http://34.87.54.114:8003/api/v1/patient/patientDetail\",\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      data: { patient_no: SSID },\r\n    })\r\n      .then(function (res) {\r\n        localStorage.setItem(\"user\", res.data[\"payload\"]);\r\n        dispatch(updateFirstName(res.data.payload.firstName));\r\n        dispatch(updateLastName(res.data.payload.lastName));\r\n        dispatch(updateSsid(res.data.payload.pid));\r\n        dispatch(updateBird(res.data.payload.birthDate));\r\n        dispatch(updatePost(res.data.payload.provinceID));\r\n        Router.push(\"/page.covid4\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"error\", err);\r\n        console.log(\"เตือนไม่พอข้อมูล\", err.response.status);\r\n        if(err.response.status === 401) {\r\n           axios({\r\n            method:\"GET\",\r\n            url:\"http://34.87.54.114:8003/api/v1/manage/token\",\r\n            headers:{Authorization: `Bearer ${localStorage.getItem(\"jwt-refresh\")}`}\r\n          })\r\n          .then((res)=>{\r\n            localStorage.setItem('jwt',res.data['accept-token']);\r\n            console.log('Update Token Success!');\r\n            handlecheckssid();\r\n          }).catch((error)=>{\r\n            console.log(\"Error Code\",error.response.status)\r\n            Router.push('/page.covid1')\r\n          })\r\n        }\r\n        /*dispatch(updateFirstName(\"\"));\r\n        dispatch(updateLastName(\"\"));\r\n        dispatch(updateSsid(\"\"));\r\n        dispatch(updateBird(\"\"));\r\n        dispatch(updatePost(\"\"));\r\n        Router.push(\"/page.covid3\");*/\r\n      });\r\n  };\r\n  return (\r\n    <FormItem>\r\n      <div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <h1 style={{ fontSize: \"42px\" }}>กรุณาใส่เลขบัตรประชาชน</h1>\r\n          </div>\r\n          <div\r\n            style={{\r\n              flexDirection: \"row\",\r\n              display: \"flex\",\r\n              width: \"100%\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div>\r\n              <Input\r\n                style={{\r\n                  padding: \"25px\",\r\n                  borderRadius: \"50px 0px 0px 50px\",\r\n                  fontSize: \"22px\",\r\n                  color: \"white\",\r\n                }}\r\n                placeholder=\"เลขบัตรประชาชน\"\r\n                value={SSID}\r\n                onChange={(e) => dispatch(updateSsid(e.target.value))}\r\n              />\r\n            </div>\r\n            <div>\r\n              <Button\r\n                style={{ height: \"100%\", borderRadius: \"0px 50px 50px 0px\" }}\r\n                type=\"primary\"\r\n                onClick={handlecheckssid}\r\n              >\r\n                ตรวจสอบ\r\n              </Button>\r\n            </div>\r\n            {/*<div\r\n              style={{\r\n                display: \"flex\",\r\n                flexBasis: \"auto\",\r\n                width: \"100%\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                margin: \"10px\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <Link href=\"/page.covid3\" >\r\n                <div\r\n                  style={{\r\n                    background: \"white\",\r\n                    width: \"220px\",\r\n                    height: \"220px\",\r\n                    padding: \"23px\",\r\n                    background: \"#FFFFFF0A 0% 0% no-repeat padding-box\",\r\n                    borderRadius: \"47px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    margin: \"20px 40px\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      height: \"50px\",\r\n                      width: \"100%\",\r\n                      background:\r\n                        \"transparent linear-gradient(107deg, #E88300 0%, #EF5800 100%) 0% 0% no-repeat padding-box\",\r\n                      borderRadius: \"146px\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        width: \"25px\",\r\n                        height: \"31px\",\r\n                        background: \"white\",\r\n                        borderRadius: \"58px\",\r\n                        margin:\"0px 4px\"\r\n                      }}\r\n                    />\r\n                    <div\r\n                      style={{\r\n                        width: \"25px\",\r\n                        height: \"31px\",\r\n                        background: \"white\",\r\n                        borderRadius: \"58px\",\r\n                        margin:\"0px 4px\"\r\n                      }}\r\n                    />\r\n                    <div\r\n                      style={{\r\n                        width: \"25px\",\r\n                        height: \"31px\",\r\n                        background: \"white\",\r\n                        borderRadius: \"58px\",\r\n                        margin:\"0px 4px\"\r\n                      }}\r\n                    />\r\n                    <div\r\n                      style={{\r\n                        width: \"25px\",\r\n                        height: \"31px\",\r\n                        background: \"white\",\r\n                        borderRadius: \"58px\",\r\n                        margin:\"0px 4px\"\r\n                      }}\r\n                    />\r\n                    <div\r\n                      style={{\r\n                        width: \"25px\",\r\n                        height: \"11px\",\r\n                        background: \"white\",\r\n                        borderRadius: \"58px\",\r\n                        margin:\"16px 4px 0px 4px\"\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n              <h3 style={{ fontSize: \"22px\" }}>กำหนดเอง</h3>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexBasis: \"auto\",\r\n                width: \"100%\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                margin: \"10px\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  background: \"white\",\r\n                  width: \"220px\",\r\n                  height: \"220px\",\r\n                  padding: \"10px\",\r\n                  background: \"#FFFFFF0A 0% 0% no-repeat padding-box\",\r\n                  borderRadius: \"47px\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  display: \"flex\",\r\n                  margin: \"20px 40px\",\r\n                }}\r\n              >\r\n                <img src={img1} />\r\n              </div>\r\n              <h3 style={{ fontSize: \"22px\" }}>ระบุตัวตนด้วยใบหน้า</h3>\r\n              </div>*/}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </FormItem>\r\n  );\r\n}\r\n\r\nexport default setDataProfile;\r\n"]},"metadata":{},"sourceType":"module"}