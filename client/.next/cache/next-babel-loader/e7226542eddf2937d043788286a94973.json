{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\n\nvar _jsxFileName = \"D:\\\\GitHub\\\\covid-web\\\\pages\\\\page.covidquestion.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\nimport Router from \"next/router\";\nimport React, { useState, useEffect } from \"react\";\nimport HeaderCovid from \"./components/component.headercovid\";\nimport QuestionCovid from \"./components/component.question\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Axios from \"axios\";\nimport AudioPlayer from \"./components/component.audioplayer\";\nimport Duration from \"./components/component.duration\";\nimport Speechtotext from \"./components/component.speechtotext\";\nimport Copyright from \"./components/component.footercopyright\";\nimport ButtonQuestion from \"./components/component.buttonquestion\";\nimport ReactPlayer from \"react-player\";\nvar Array = [];\nvar mytimeout;\nvar mytimestart;\nvar form_questionid;\nvar FormItem = _Form.Item;\n\nfunction CovidQuestion() {\n  _s();\n\n  var _this = this;\n\n  //State จัดการเรื่องชุดคำถาม =========================\n  var _useState = useState([]),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var _useState2 = useState(0),\n      currentQuestion = _useState2[0],\n      setCurrentQuestion = _useState2[1];\n\n  var _useState3 = useState(false),\n      isEnd = _useState3[0],\n      setisEnd = _useState3[1];\n\n  var _useState4 = useState(false),\n      isLoading = _useState4[0],\n      setisLoading = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      options = _useState5[0],\n      setoptions = _useState5[1];\n\n  var _useState6 = useState(\"\"),\n      question = _useState6[0],\n      setQuestion = _useState6[1];\n\n  var _useState7 = useState(false),\n      token = _useState7[0],\n      settoken = _useState7[1];\n\n  var _useState8 = useState([]),\n      keyword = _useState8[0],\n      setKeyword = _useState8[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      time = _useSelector.time; //จัดการชุดคำตอบที่จะส่งไปตอนเสร็จ\n\n\n  var _useState9 = useState(null),\n      questionID = _useState9[0],\n      setQuestionID = _useState9[1];\n\n  var _useState10 = useState(false),\n      CheckSuccess = _useState10[0],\n      setCheckSuccess = _useState10[1];\n\n  var _useState11 = useState(false),\n      checkAudio = _useState11[0],\n      setcheckAudio = _useState11[1];\n\n  var dispatch = useDispatch(); //=================================================\n  //-----------------------------------------\n\n  useEffect(function () {\n    if (!isLoading) {\n      Axios({\n        method: \"post\",\n        url: \"https://www.nuscreening.kasemsanm.com/api/v1/query/question\",\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"jwt\"))\n        },\n        data: {\n          patient_no: \"3640600077526\",\n          form_question_id: 1\n        }\n      }).then(function (res) {\n        console.log(\"Import Data Success!\", res); //Array[res.data.payload.length-1] = undefined\n\n        form_questionid = 1;\n        setTimeout(function () {\n          setPage(res.data.payload);\n          settoken(true);\n        }, 1000000);\n      })[\"catch\"](function (error) {\n        console.log(\"Not found Token or PatientNo\", error.response.status);\n\n        if (error.response.status === 401) {\n          Axios({\n            method: \"GET\",\n            url: \"https://www.nuscreening.kasemsanm.com/api/v1/manage/token\",\n            headers: {\n              Authorization: \"Bearer \".concat(localStorage.getItem(\"jwt-refresh\"))\n            }\n          }).then(function (res) {\n            localStorage.setItem(\"jwt\", res.data[\"accessToken\"]);\n            localStorage.setItem(\"jwt-refresh\", res.data[\"refreshToken\"]);\n            console.log(\"Update Token Success!\");\n          })[\"catch\"](function (error) {\n            console.log(\"Error Code\", error.response.status);\n            Router.push(\"/page.covid1\");\n          });\n        }\n\n        if (error.response.status === 404) {\n          console.log(\"ไม่มีข้อมูลอยู่ในระบบ\");\n          Router.push(\"/page.covid2\");\n        }\n      });\n    }\n  }, []);\n  useEffect(function () {\n    if (token) {\n      console.log(\"Function Set Question Two!\", page.length, currentQuestion);\n\n      if (Array.length >= page.length) {\n        for (var i = 0; i <= Array.length - 1; i++) {\n          if (Array[i] === undefined) {\n            console.log(\"break\", Array[i], Array.length, i);\n            break;\n          }\n\n          console.log(\"err\", i + 1, Array.length);\n\n          if (i === Array.length - 1) {\n            console.log(\"Check Complete And Go to savedata!\");\n            setisEnd(true);\n          }\n        } //console.log(\"หลุดลูป\");\n\n      }\n\n      if (page.length - 1 >= currentQuestion >= 0) {\n        //console.log(\"CurrentQuestion in set question!\", currentQuestion);\n        setQuestion(page[currentQuestion].body);\n        setoptions(page[currentQuestion].voice);\n        setQuestionID(page[currentQuestion].question_id);\n        setKeyword(page[currentQuestion].keywords);\n        settoken(false);\n        setisLoading(true);\n        mytimeout = setTimeout(function () {\n          alert(\"TimeOut!\");\n        }, [20500]);\n      }\n    }\n  }, [token, currentQuestion]);\n  useEffect(function () {\n    console.log(time * 1000, \"time\");\n    console.log(\"Time!\", options.duration);\n  }, [time]);\n\n  var nextQuestionHandler = function nextQuestionHandler(answer, raw_answer) {\n    setcheckAudio(false);\n    clearTimeout(mytimeout);\n    Array[currentQuestion] = {\n      question_id: questionID,\n      answer: answer,\n      rew_answer: raw_answer\n    };\n\n    if (currentQuestion + 1 >= page.length) {\n      //console.log(\"Final1111\", currentQuestion + 1);\n      setCurrentQuestion(currentQuestion);\n      settoken(true);\n    } else {\n      setCurrentQuestion(currentQuestion + 1);\n      settoken(true); //console.log(\"Final3333\", currentQuestion + 1);\n    } //console.log(\"Question\", currentQuestion);\n\n\n    console.log(\"Array\", Array);\n    setisLoading(false); //}\n  };\n\n  var saveDataHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var cid, payload;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              cid = JSON.parse(localStorage.getItem(\"user\"));\n              payload = {\n                patient_no: cid.cid,\n                form_questions_id: form_questionid,\n                form_questions: Array\n              };\n              console.log(\"Data ready to send backend!\", payload);\n              setCheckSuccess(true);\n              _context.next = 6;\n              return Axios({\n                method: \"post\",\n                url: \"https://www.nuscreening.kasemsanm.com/api/v1/query/sendQuestion\",\n                headers: {\n                  Authorization: \"Bearer \".concat(localStorage.getItem(\"jwt\"))\n                },\n                data: payload\n              }).then(function (res) {\n                console.log(\"Success to Save Data!\", res);\n                var checknextform = res.data.payload;\n                console.log(\"SSSS\", res.data.payload);\n\n                if (checknextform === undefined || checknextform === null) {\n                  Array = [];\n                  console.log(\"จบโปเสด\");\n                  Router.push(\"/page.covidcomplete\");\n                } else {\n                  Array = [];\n                  console.log(\"Restart Array!\", Array);\n                  console.log(\"Restart Data!\", res.data);\n                  form_questionid = res.data.payload[0].form_question_id;\n                  console.log(form_questionid);\n                  setisLoading(false);\n                  setisEnd(false);\n                  setCurrentQuestion(0);\n                  setPage(res.data.payload);\n                  settoken(true);\n                  setCheckSuccess(false);\n                }\n              })[\"catch\"](function (error) {\n                console.log(\"Not found Token or PatientNo\", error);\n\n                if (error.response.status === 401) {\n                  Axios({\n                    method: \"GET\",\n                    url: \"https://www.nuscreening.kasemsanm.com/api/v1/manage/token\",\n                    headers: {\n                      Authorization: \"Bearer \".concat(localStorage.getItem(\"jwt-refresh\"))\n                    }\n                  }).then(function (res) {\n                    localStorage.setItem(\"jwt\", res.data[\"accessToken\"]);\n                    localStorage.setItem(\"jwt-refresh\", res.data[\"refreshToken\"]);\n                    console.log(\"Update Token Success!\");\n                    setisLoading(false);\n                  })[\"catch\"](function (error) {\n                    console.log(\"Error Code\", error.response.status);\n                    Router.push(\"/page.covid1\");\n                  });\n                }\n\n                if (error.response.status === 404) {\n                  console.log(\"ไม่มีข้อมูลอยู่ในระบบ\");\n                  Router.push(\"/page.covid2\");\n                }\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function saveDataHandler() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var ButtonNext = function ButtonNext(condition) {\n    setcheckAudio(false);\n    clearTimeout(mytimeout);\n\n    if (\"next\" === condition) {\n      if (currentQuestion + 1 >= page.length) {\n        //console.log(\"Final Question\", currentQuestion, page.length);\n        setCurrentQuestion(currentQuestion);\n        settoken(true);\n        setisLoading(false);\n      } else {\n        //console.log(\"Simple Question\", currentQuestion, page.length);\n        setCurrentQuestion(currentQuestion + 1);\n        settoken(true);\n        setisLoading(false);\n      }\n    } else if (\"back\" === condition) {\n      if (currentQuestion === 0) {\n        //console.log(\"First Question\", currentQuestion, page.length);\n        setCurrentQuestion(currentQuestion);\n        settoken(true);\n        setisLoading(false);\n      } else {\n        //console.log(\"Simple Question\", currentQuestion, page.length);\n        setCurrentQuestion(currentQuestion - 1);\n        settoken(true);\n        setisLoading(false);\n      }\n    }\n\n    console.log(\"Array\", Array);\n  };\n\n  var Showbar = function Showbar() {\n    return __jsx(\"div\", {\n      className: \"w3-light-grey\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"nu-boxbar-covidqt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var handleDuration = function handleDuration(duration) {\n    //dispatch(updateTime(duration));\n    mytimestart = duration;\n    setcheckAudio(true);\n  }; //====================================================\n\n\n  if (isLoading) {\n    if (isEnd) {\n      clearTimeout(mytimeout);\n\n      if (!CheckSuccess) {\n        saveDataHandler();\n      }\n\n      return null;\n    } else {\n      console.log(\"Re-Render1\");\n\n      if (checkAudio) {\n        console.log(\"Re-Render2\");\n        return __jsx(FormItem, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 11\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-font-covid\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-flex-column-fs\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }\n        }, __jsx(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }\n        }, __jsx(HeaderCovid, {\n          link: \"/page.covid4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 19\n          }\n        })), __jsx(\"div\", {\n          className: \"nu-flex-row-bsauto-h100\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-fs10-covidqt nu-flexleft-covid\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 19\n          }\n        }, __jsx(_Button, {\n          shape: \"circle\",\n          size: \"middle\",\n          className: \"nu-btn-left-covidqt\",\n          onClick: function onClick() {\n            return ButtonNext(\"back\");\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 21\n          }\n        }, __jsx(LeftOutlined, {\n          style: {\n            fontSize: \"35px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 23\n          }\n        }))), __jsx(\"div\", {\n          className: \"nu-flex-column-bsauto-w100 nu-center-covidss nu-h100-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 19\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-dp-name-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 21\n          }\n        }, __jsx(QuestionCovid, {\n          text: question,\n          check: token,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 23\n          }\n        })), __jsx(\"div\", {\n          className: \"nu-center-covidss nu-dp-btn-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 21\n          }\n        }, __jsx(ButtonQuestion, {\n          click: nextQuestionHandler,\n          question: question,\n          check: Array[currentQuestion],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 23\n          }\n        }))), __jsx(\"div\", {\n          className: \"nu-fs10-covidqt nu-flexright-covid\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 19\n          }\n        }, __jsx(_Button, {\n          shape: \"circle\",\n          size: \"middle\",\n          className: \"nu-btn-right-covidqt\",\n          onClick: function onClick() {\n            return ButtonNext(\"next\");\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 21\n          }\n        }, __jsx(RightOutlined, {\n          style: {\n            fontSize: \"35px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 23\n          }\n        })))), __jsx(\"div\", {\n          className: \"nu-dp-ud-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-dp-pgnt-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 19\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-pgnt-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-box-covid1\",\n          style: {\n            marginLeft: \"70px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 23\n          }\n        }, page.map(function (page, index) {\n          if (index === currentQuestion) {\n            return __jsx(\"span\", {\n              className: \"nu-box1-covid1\",\n              style: {\n                background: \"white\"\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 31\n              }\n            });\n          }\n\n          return __jsx(\"span\", {\n            className: \"nu-box1-covid1\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 34\n            }\n          });\n        })))), __jsx(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 19\n          }\n        }, __jsx(AudioPlayer, {\n          url: options,\n          token: localStorage.getItem(\"jwt\"),\n          isLoading: isLoading,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 21\n          }\n        }))), __jsx(\"div\", {\n          className: \"nu-dptm-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 17\n          }\n        }, __jsx(\"h5\", {\n          className: \"nu-h5-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 19\n          }\n        }, __jsx(Duration, {\n          seconds: mytimestart,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 21\n          }\n        }))), __jsx(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }\n        }, __jsx(Showbar, {\n          text: question,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 19\n          }\n        })), __jsx(\"div\", {\n          className: \"nu-dp-ud-covidqt\",\n          style: {\n            flexBasis: \"180px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 17\n          }\n        }, __jsx(\"div\", {\n          className: \"nu-dp-pgnt-covidqt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 19\n          }\n        }, __jsx(\"div\", {\n          className: \"sound-icon disabled\",\n          style: {\n            marginLeft: \"80px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"sound-wave\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 23\n          }\n        }, __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 25\n          }\n        }), __jsx(\"i\", {\n          className: \"bar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 25\n          }\n        })))), __jsx(\"div\", {\n          style: {\n            height: \"100%\",\n            marginTop: \"20px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 19\n          }\n        }, __jsx(Speechtotext, {\n          speech: nextQuestionHandler,\n          keyword: keyword,\n          page: \"covidquestion\",\n          time: mytimestart,\n          formquestionid: form_questionid,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 21\n          }\n        }))), __jsx(\"div\", {\n          className: \"nu-flex-btn-covid1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }\n        }, __jsx(Copyright, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 19\n          }\n        })))));\n      } else {\n        console.log('Re-Render3');\n        return __jsx(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 11\n          }\n        }, __jsx(ReactPlayer, {\n          controls: true,\n          light: false,\n          playing: false,\n          width: \"0%\",\n          height: \"0%\",\n          url: options,\n          onDuration: handleDuration,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }\n        }));\n      }\n    }\n  } else {\n    return __jsx(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"nu-font-covid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"nu-flex-column-fs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 17\n      }\n    }, __jsx(HeaderCovid, {\n      link: \"/page.covid4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 19\n      }\n    })), __jsx(\"div\", {\n      className: \"nu-flex-row-bsauto-h100\",\n      style: {\n        padding: \"40px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      style: {\n        background: \"#FFFFFF0A 0% 0% no-repeat padding-box\",\n        width: \"100%\",\n        borderRadius: \"35px\",\n        padding: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 19\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 21\n      }\n    }, \"Wait in minute!\"))), __jsx(\"div\", {\n      className: \"nu-flex-btn-covid1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 17\n      }\n    }, __jsx(Copyright, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 19\n      }\n    })))));\n  }\n}\n\n_s(CovidQuestion, \"a6J8S8ErAl74j5wlqfUbnJMH4Lw=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = CovidQuestion;\nexport default CovidQuestion;\n\nvar _c;\n\n$RefreshReg$(_c, \"CovidQuestion\");","map":{"version":3,"sources":["D:/GitHub/covid-web/pages/page.covidquestion.js"],"names":["LeftOutlined","RightOutlined","Router","React","useState","useEffect","HeaderCovid","QuestionCovid","useSelector","useDispatch","Axios","AudioPlayer","Duration","Speechtotext","Copyright","ButtonQuestion","ReactPlayer","Array","mytimeout","mytimestart","form_questionid","FormItem","Item","CovidQuestion","page","setPage","currentQuestion","setCurrentQuestion","isEnd","setisEnd","isLoading","setisLoading","options","setoptions","question","setQuestion","token","settoken","keyword","setKeyword","state","post","time","questionID","setQuestionID","CheckSuccess","setCheckSuccess","checkAudio","setcheckAudio","dispatch","method","url","headers","Authorization","localStorage","getItem","data","patient_no","form_question_id","then","res","console","log","setTimeout","payload","error","response","status","setItem","push","length","i","undefined","body","voice","question_id","keywords","alert","duration","nextQuestionHandler","answer","raw_answer","clearTimeout","rew_answer","saveDataHandler","cid","JSON","parse","form_questions_id","form_questions","checknextform","ButtonNext","condition","Showbar","handleDuration","fontSize","marginLeft","map","index","background","flexBasis","height","marginTop","padding","width","borderRadius"],"mappings":"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","sourcesContent":["import { Form, Button } from \"antd\";\r\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\r\nimport Router from \"next/router\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport HeaderCovid from \"./components/component.headercovid\";\r\nimport QuestionCovid from \"./components/component.question\";\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport AudioPlayer from \"./components/component.audioplayer\";\r\nimport Duration from \"./components/component.duration\";\r\nimport Speechtotext from \"./components/component.speechtotext\";\r\nimport Copyright from \"./components/component.footercopyright\";\r\nimport ButtonQuestion from \"./components/component.buttonquestion\";\r\nimport ReactPlayer from \"react-player\";\r\n\r\nvar Array = [];\r\nvar mytimeout;\r\nvar mytimestart;\r\nvar form_questionid;\r\nconst FormItem = Form.Item;\r\nfunction CovidQuestion() {\r\n  //State จัดการเรื่องชุดคำถาม =========================\r\n  const [page, setPage] = useState([]);\r\n  const [currentQuestion, setCurrentQuestion] = useState(0);\r\n  const [isEnd, setisEnd] = useState(false);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [options, setoptions] = useState(\"\");\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [token, settoken] = useState(false);\r\n  const [keyword, setKeyword] = useState([]);\r\n  const { time } = useSelector((state) => state.post);\r\n\r\n  //จัดการชุดคำตอบที่จะส่งไปตอนเสร็จ\r\n  const [questionID, setQuestionID] = useState(null);\r\n  const [CheckSuccess, setCheckSuccess] = useState(false);\r\n  const [checkAudio, setcheckAudio] = useState(false);\r\n  const dispatch = useDispatch();\r\n  //=================================================\r\n\r\n  //-----------------------------------------\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      Axios({\r\n        method: \"post\",\r\n        url: \"https://www.nuscreening.kasemsanm.com/api/v1/query/question\",\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` },\r\n        data: { patient_no: \"3640600077526\", form_question_id: 1 },\r\n      })\r\n        .then((res) => {\r\n          console.log(\"Import Data Success!\", res);\r\n          //Array[res.data.payload.length-1] = undefined\r\n          form_questionid = 1;\r\n          setTimeout(()=>{\r\n            setPage(res.data.payload);\r\n          settoken(true);\r\n          },1000000)\r\n          \r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Not found Token or PatientNo\", error.response.status);\r\n          if (error.response.status === 401) {\r\n            Axios({\r\n              method: \"GET\",\r\n              url: \"https://www.nuscreening.kasemsanm.com/api/v1/manage/token\",\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem(\"jwt-refresh\")}`,\r\n              },\r\n            })\r\n              .then((res) => {\r\n                localStorage.setItem(\"jwt\", res.data[\"accessToken\"]);\r\n                localStorage.setItem(\"jwt-refresh\", res.data[\"refreshToken\"]);\r\n                console.log(\"Update Token Success!\");\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error Code\", error.response.status);\r\n                Router.push(\"/page.covid1\");\r\n              });\r\n          }\r\n          if (error.response.status === 404) {\r\n            console.log(\"ไม่มีข้อมูลอยู่ในระบบ\");\r\n            Router.push(\"/page.covid2\");\r\n          }\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      console.log(\"Function Set Question Two!\", page.length, currentQuestion);\r\n      if (Array.length >= page.length) {\r\n        for (var i = 0; i <= Array.length - 1; i++) {\r\n          if (Array[i] === undefined) {\r\n            console.log(\"break\", Array[i], Array.length, i);\r\n            break;\r\n          }\r\n          console.log(\"err\", i + 1, Array.length);\r\n          if (i === Array.length - 1) {\r\n            console.log(\"Check Complete And Go to savedata!\");\r\n            setisEnd(true);\r\n          }\r\n        }\r\n        //console.log(\"หลุดลูป\");\r\n      }\r\n      if (page.length - 1 >= currentQuestion >= 0) {\r\n        //console.log(\"CurrentQuestion in set question!\", currentQuestion);\r\n        setQuestion(page[currentQuestion].body);\r\n        setoptions(page[currentQuestion].voice);\r\n        setQuestionID(page[currentQuestion].question_id);\r\n        setKeyword(page[currentQuestion].keywords);\r\n        settoken(false);\r\n        setisLoading(true);\r\n        mytimeout = setTimeout(() => {\r\n          alert(\"TimeOut!\");\r\n        }, [20500]);\r\n      }\r\n    }\r\n  }, [token, currentQuestion]);\r\n  useEffect(() => {\r\n    console.log(time * 1000, \"time\");\r\n    console.log(\"Time!\", options.duration);\r\n  }, [time]);\r\n\r\n  const nextQuestionHandler = (answer, raw_answer) => {\r\n    setcheckAudio(false);\r\n    clearTimeout(mytimeout);\r\n    Array[currentQuestion] = {\r\n      question_id: questionID,\r\n      answer: answer,\r\n      rew_answer: raw_answer,\r\n    };\r\n    if (currentQuestion + 1 >= page.length) {\r\n      //console.log(\"Final1111\", currentQuestion + 1);\r\n      setCurrentQuestion(currentQuestion);\r\n      settoken(true);\r\n    } else {\r\n      setCurrentQuestion(currentQuestion + 1);\r\n      settoken(true);\r\n      //console.log(\"Final3333\", currentQuestion + 1);\r\n    }\r\n    //console.log(\"Question\", currentQuestion);\r\n    console.log(\"Array\", Array);\r\n    setisLoading(false);\r\n    //}\r\n  };\r\n\r\n  const saveDataHandler = async () => {\r\n    var cid = JSON.parse(localStorage.getItem(\"user\"));\r\n    let payload = {\r\n      patient_no: cid.cid,\r\n      form_questions_id: form_questionid,\r\n      form_questions: Array,\r\n    };\r\n    console.log(\"Data ready to send backend!\", payload);\r\n    setCheckSuccess(true);\r\n    await Axios({\r\n      method: \"post\",\r\n      url: \"https://www.nuscreening.kasemsanm.com/api/v1/query/sendQuestion\",\r\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"jwt\")}` },\r\n      data: payload,\r\n    })\r\n      .then(function (res) {\r\n        console.log(\"Success to Save Data!\", res);\r\n        const checknextform = res.data.payload;\r\n        console.log(\"SSSS\", res.data.payload);\r\n        if (checknextform === undefined || checknextform === null) {\r\n          Array = [];\r\n          console.log(\"จบโปเสด\");\r\n          Router.push(\"/page.covidcomplete\");\r\n        } else {\r\n          Array = [];\r\n          console.log(\"Restart Array!\", Array);\r\n          console.log(\"Restart Data!\", res.data);\r\n          form_questionid = res.data.payload[0].form_question_id;\r\n          console.log(form_questionid);\r\n          setisLoading(false);\r\n          setisEnd(false);\r\n          setCurrentQuestion(0);\r\n          setPage(res.data.payload);\r\n          settoken(true);\r\n          setCheckSuccess(false);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Not found Token or PatientNo\", error);\r\n        if (error.response.status === 401) {\r\n          Axios({\r\n            method: \"GET\",\r\n            url: \"https://www.nuscreening.kasemsanm.com/api/v1/manage/token\",\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"jwt-refresh\")}`,\r\n            },\r\n          })\r\n            .then((res) => {\r\n              localStorage.setItem(\"jwt\", res.data[\"accessToken\"]);\r\n              localStorage.setItem(\"jwt-refresh\", res.data[\"refreshToken\"]);\r\n              console.log(\"Update Token Success!\");\r\n              setisLoading(false);\r\n            })\r\n            .catch((error) => {\r\n              console.log(\"Error Code\", error.response.status);\r\n              Router.push(\"/page.covid1\");\r\n            });\r\n        }\r\n        if (error.response.status === 404) {\r\n          console.log(\"ไม่มีข้อมูลอยู่ในระบบ\");\r\n          Router.push(\"/page.covid2\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const ButtonNext = (condition) => {\r\n    setcheckAudio(false);\r\n    clearTimeout(mytimeout);\r\n    if (\"next\" === condition) {\r\n      if (currentQuestion + 1 >= page.length) {\r\n        //console.log(\"Final Question\", currentQuestion, page.length);\r\n        setCurrentQuestion(currentQuestion);\r\n        settoken(true);\r\n        setisLoading(false);\r\n      } else {\r\n        //console.log(\"Simple Question\", currentQuestion, page.length);\r\n        setCurrentQuestion(currentQuestion + 1);\r\n        settoken(true);\r\n        setisLoading(false);\r\n      }\r\n    } else if (\"back\" === condition) {\r\n      if (currentQuestion === 0) {\r\n        //console.log(\"First Question\", currentQuestion, page.length);\r\n        setCurrentQuestion(currentQuestion);\r\n        settoken(true);\r\n        setisLoading(false);\r\n      } else {\r\n        //console.log(\"Simple Question\", currentQuestion, page.length);\r\n        setCurrentQuestion(currentQuestion - 1);\r\n        settoken(true);\r\n        setisLoading(false);\r\n      }\r\n    }\r\n    console.log(\"Array\", Array);\r\n  };\r\n\r\n  const Showbar = () => {\r\n    return (\r\n      <div className=\"w3-light-grey\">\r\n        <div className=\"nu-boxbar-covidqt\" />\r\n      </div>\r\n    );\r\n  };\r\n  const handleDuration = (duration) => {\r\n    //dispatch(updateTime(duration));\r\n    mytimestart = duration\r\n    setcheckAudio(true)\r\n  };\r\n  //====================================================\r\n  if (isLoading) {\r\n    if (isEnd) {\r\n      clearTimeout(mytimeout);\r\n      if (!CheckSuccess) {\r\n        saveDataHandler();\r\n      }\r\n      return null;\r\n    } else {\r\n      console.log(\"Re-Render1\");\r\n      if (checkAudio) {\r\n        console.log(\"Re-Render2\");\r\n        return (\r\n          <FormItem>\r\n            <div className=\"nu-font-covid\">\r\n              <div className=\"nu-flex-column-fs\">\r\n                <div>\r\n                  <HeaderCovid link={\"/page.covid4\"} />\r\n                </div>\r\n                <div className=\"nu-flex-row-bsauto-h100\">\r\n                  <div className=\"nu-fs10-covidqt nu-flexleft-covid\">\r\n                    <Button\r\n                      shape=\"circle\"\r\n                      size=\"middle\"\r\n                      className=\"nu-btn-left-covidqt\"\r\n                      onClick={() => ButtonNext(\"back\")}\r\n                    >\r\n                      <LeftOutlined style={{ fontSize: \"35px\" }} />\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"nu-flex-column-bsauto-w100 nu-center-covidss nu-h100-covidqt\">\r\n                    <div className=\"nu-dp-name-covidqt\">\r\n                      <QuestionCovid text={question} check={token} />\r\n                    </div>\r\n                    <div className=\"nu-center-covidss nu-dp-btn-covidqt\">\r\n                      <ButtonQuestion\r\n                        click={nextQuestionHandler}\r\n                        question={question}\r\n                        check={Array[currentQuestion]}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"nu-fs10-covidqt nu-flexright-covid\">\r\n                    <Button\r\n                      shape=\"circle\"\r\n                      size=\"middle\"\r\n                      className=\"nu-btn-right-covidqt\"\r\n                      onClick={() => ButtonNext(\"next\")}\r\n                    >\r\n                      <RightOutlined style={{ fontSize: \"35px\" }} />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"nu-dp-ud-covidqt\">\r\n                  <div className=\"nu-dp-pgnt-covidqt\">\r\n                    <div className=\"nu-pgnt-covidqt\">\r\n                      <div\r\n                        className=\"nu-box-covid1\"\r\n                        style={{ marginLeft: \"70px\" }}\r\n                      >\r\n                        {page.map((page, index) => {\r\n                          if (index === currentQuestion) {\r\n                            return (\r\n                              <span\r\n                                className=\"nu-box1-covid1\"\r\n                                style={{ background: \"white\" }}\r\n                              />\r\n                            );\r\n                          }\r\n                          return <span className=\"nu-box1-covid1\" />;\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <AudioPlayer\r\n                      url={options}\r\n                      token={localStorage.getItem(\"jwt\")}\r\n                      isLoading={isLoading}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"nu-dptm-covidqt\">\r\n                  <h5 className=\"nu-h5-covidqt\">\r\n                    <Duration seconds={mytimestart} />\r\n                  </h5>\r\n                </div>\r\n                <div>\r\n                  <Showbar text={question} />\r\n                </div>\r\n                <div\r\n                  className=\"nu-dp-ud-covidqt\"\r\n                  style={{ flexBasis: \"180px\" }}\r\n                >\r\n                  <div className=\"nu-dp-pgnt-covidqt\">\r\n                    <div\r\n                      className=\"sound-icon disabled\"\r\n                      style={{ marginLeft: \"80px\" }}\r\n                    >\r\n                      <div className=\"sound-wave\">\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                        <i className=\"bar\"></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ height: \"100%\", marginTop: \"20px\" }}>\r\n                    <Speechtotext\r\n                      speech={nextQuestionHandler}\r\n                      keyword={keyword}\r\n                      page={\"covidquestion\"}\r\n                      time={mytimestart}\r\n                      formquestionid={form_questionid}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"nu-flex-btn-covid1\">\r\n                  <Copyright />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </FormItem>\r\n        );\r\n      } else {\r\n        console.log('Re-Render3')\r\n        return (\r\n          <div>\r\n            <ReactPlayer\r\n              controls={true}\r\n              light={false}\r\n              playing={false}\r\n              width=\"0%\"\r\n              height=\"0%\"\r\n              url={options}\r\n              onDuration={handleDuration}\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  } else {\r\n       return (\r\n          <FormItem>\r\n            <div className=\"nu-font-covid\">\r\n              <div className=\"nu-flex-column-fs\">\r\n                <div>\r\n                  <HeaderCovid link={\"/page.covid4\"} />\r\n                </div>\r\n                <div className=\"nu-flex-row-bsauto-h100\" style={{padding:\"40px\"}}>\r\n                  <div style={{background:\"#FFFFFF0A 0% 0% no-repeat padding-box\",width:\"100%\",borderRadius:\"35px\",padding:\"20px\"}}>\r\n                    <h1>Wait in minute!</h1>\r\n                  </div>\r\n                </div>\r\n                <div className=\"nu-flex-btn-covid1\">\r\n                  <Copyright />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </FormItem>\r\n        );\r\n  }\r\n}\r\n\r\nexport default CovidQuestion;\r\n"]},"metadata":{},"sourceType":"module"}