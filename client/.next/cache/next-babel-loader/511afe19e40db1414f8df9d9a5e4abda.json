{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\covid-web-develop\\\\covid-web-develop\\\\pages\\\\components\\\\component.audioplayer.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Component, useContext, useEffect, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport Axios from \"axios\"; //import Duration from \"./Duration\";\n//import { CounterContext } from \"../../store/CouterProvider\";\n\nfunction Player(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(null),\n      url = _useState[0],\n      seturl = _useState[1];\n\n  var _useState2 = useState(localStorage.getItem(\"jwt\")),\n      token = _useState2[0],\n      setToken = _useState2[1];\n\n  var _useState3 = useState(0),\n      duration = _useState3[0],\n      setduration = _useState3[1];\n\n  var _useState4 = useState(0),\n      played = _useState4[0],\n      setplayed = _useState4[1];\n\n  var _useState5 = useState(false),\n      pip = _useState5[0],\n      setpip = _useState5[1];\n\n  var _useState6 = useState(0),\n      loaded = _useState6[0],\n      setloaded = _useState6[1];\n\n  var _useState7 = useState(0),\n      A = _useState7[0],\n      setA = _useState7[1];\n\n  var _useState8 = useState(0),\n      B = _useState8[0],\n      setB = _useState8[1];\n\n  var _useState9 = useState(0),\n      C = _useState9[0],\n      setC = _useState9[1];\n\n  var _useState10 = useState(null),\n      D = _useState10[0],\n      setD = _useState10[1]; //const { updateDuration } = useContext(CounterContext);\n\n\n  var load = function load(url) {\n    seturl(url);\n    setplayed(0);\n    setloaded(0);\n    setpip(false);\n  };\n\n  var urlload = function urlload() {\n    Axios({\n      method: \"get\",\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      },\n      url: \"http://34.87.54.114:8003/api/v1/file/record01.m4a\"\n    });\n  };\n\n  useEffect(function () {\n    seturl(props.url);\n  });\n\n  var handleStop = function handleStop() {\n    _this.setState({\n      url: null,\n      playing: false\n    });\n  };\n\n  var handleDuration = function handleDuration(duration) {\n    //console.log(\"onDuration\", duration);\n    setduration(duration);\n  };\n\n  var handleSeekChange = function handleSeekChange(e) {\n    setplayed(parseFloat(e.target.value));\n  };\n\n  var handleProgress = function handleProgress(state) {\n    //console.log(\"onProgress\", state);\n    setA(duration * state.played);\n    setB(duration * (1 - state.played));\n    updateDuration(A / duration * 100);\n  };\n\n  var renderLoadButton = function renderLoadButton(url, label) {\n    return __jsx(\"button\", {\n      onClick: function onClick() {\n        return _this.load(url);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 12\n      }\n    }, label);\n  };\n\n  urlload();\n  return __jsx(\"div\", {\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  });\n}\n/*<button onClick={handleStop}>Stop</button>\r\n      <Duration seconds={duration} />\r\n      <p>elapsed</p>\r\n      <Duration seconds={A} />\r\n      <p>remaining</p>\r\n      <Duration seconds={B} />      {renderLoadButton(\r\n        \"https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3\",\r\n        \"mp3\"\r\n      )}\r\n      <p />*/\n\n\n_s(Player, \"f0pX8uYlBhHaRYivIuisBPA7eYU=\");\n\n_c = Player;\nexport default Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["D:/Coding/covid-web-develop/covid-web-develop/pages/components/component.audioplayer.js"],"names":["React","Component","useContext","useEffect","useState","ReactPlayer","Axios","Player","props","url","seturl","localStorage","getItem","token","setToken","duration","setduration","played","setplayed","pip","setpip","loaded","setloaded","A","setA","B","setB","C","setC","D","setD","load","urlload","method","headers","Authorization","handleStop","setState","playing","handleDuration","handleSeekChange","e","parseFloat","target","value","handleProgress","state","updateDuration","renderLoadButton","label","color"],"mappings":"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","sourcesContent":["import React, { Component, useContext, useEffect, useState } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport Axios from \"axios\";\r\n//import Duration from \"./Duration\";\r\n//import { CounterContext } from \"../../store/CouterProvider\";\r\n\r\nfunction Player(props) {\r\n  const [url, seturl] = useState(null);\r\n  const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\r\n  const [duration, setduration] = useState(0);\r\n  const [played, setplayed] = useState(0);\r\n  const [pip, setpip] = useState(false);\r\n  const [loaded, setloaded] = useState(0);\r\n  const [A, setA] = useState(0);\r\n  const [B, setB] = useState(0);\r\n  const [C, setC] = useState(0);\r\n  const [D, setD] = useState(null);\r\n  //const { updateDuration } = useContext(CounterContext);\r\n\r\n  const load = url => {\r\n    seturl(url);\r\n    setplayed(0);\r\n    setloaded(0);\r\n    setpip(false);\r\n  };\r\n  \r\n  const urlload = () => {\r\n      Axios({\r\n          method:\"get\",\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          url: \"http://34.87.54.114:8003/api/v1/file/record01.m4a\"\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    seturl(props.url);\r\n  });\r\n  const handleStop = () => {\r\n    this.setState({ url: null, playing: false });\r\n  };\r\n  const handleDuration = duration => {\r\n    //console.log(\"onDuration\", duration);\r\n\r\n    setduration(duration);\r\n  };\r\n  const handleSeekChange = e => {\r\n    setplayed(parseFloat(e.target.value));\r\n  };\r\n  const handleProgress = state => {\r\n    //console.log(\"onProgress\", state);\r\n    setA(duration * state.played);\r\n    setB(duration * (1 - state.played));\r\n    updateDuration((A / duration) * 100);\r\n  };\r\n  const renderLoadButton = (url, label) => {\r\n    return <button onClick={() => this.load(url)}>{label}</button>;\r\n  };\r\n  urlload();\r\n  return (\r\n    <div style={{ color: \"white\" }}>\r\n      {/*<ReactPlayer\r\n        controls={true}\r\n        light={false}\r\n        playing={true}\r\n        width=\"0%\"\r\n        height=\"0%\"\r\n        url={urlload}\r\n        onDuration={handleDuration}\r\n        onProgress={handleProgress}\r\n      />*/}\r\n      \r\n    </div>\r\n  );\r\n}\r\n/*<button onClick={handleStop}>Stop</button>\r\n      <Duration seconds={duration} />\r\n      <p>elapsed</p>\r\n      <Duration seconds={A} />\r\n      <p>remaining</p>\r\n      <Duration seconds={B} />      {renderLoadButton(\r\n        \"https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3\",\r\n        \"mp3\"\r\n      )}\r\n      <p />*/\r\nexport default Player;\r\n"]},"metadata":{},"sourceType":"module"}