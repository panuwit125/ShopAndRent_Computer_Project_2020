{"ast":null,"code":"import \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar __jsx = React.createElement;\nconst FormItem = _Form.Item;\nconst {\n  Meta\n} = _Card;\nimport React, { useState, useEffect } from \"react\";\nimport Navbar from \"./components/component.navbar\";\nimport CardProduct from \"./components/component.cardproduct\";\nimport Header from \"./components/component.header\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateTypeBland } from \"../store/actions/postAction\";\nimport axios from \"axios\";\n\nfunction ShopPage() {\n  const dispatch = useDispatch();\n  const {\n    TypeBland\n  } = useSelector(state => state.post);\n  const {\n    0: checkLogin,\n    1: setCheckLogin\n  } = useState(false);\n  const {\n    0: isLoading,\n    1: setisLoading\n  } = useState(false);\n  const {\n    0: loadingTypebland,\n    1: setloadingTypebland\n  } = useState(false);\n  const {\n    0: user,\n    1: setUser\n  } = useState('');\n  const {\n    0: product,\n    1: setProduct\n  } = useState();\n  useEffect(() => {\n    let token = localStorage.getItem(\"token\");\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n    console.log(\"token\", token, user);\n\n    if (token) {\n      setUser(user.user_name);\n      setCheckLogin(true);\n    }\n\n    getProduct(TypeBland);\n  }, []);\n\n  const getProduct = product => {\n    let body = {\n      bland_product: product\n    };\n    axios.post(\"http://localhost:5000/showproduct\", body).then(res => {\n      console.log(res);\n      setProduct(res.data);\n      setisLoading(true);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    if (loadingTypebland) {\n      getProduct(TypeBland);\n    } else {\n      setloadingTypebland(true);\n    }\n  }, [TypeBland]);\n\n  if (!isLoading) {\n    return null;\n  } else {\n    console.log(product);\n    return __jsx(FormItem, {\n      style: {\n        margin: \"0px\"\n      }\n    }, __jsx(\"div\", {\n      className: \"sp\"\n    }, __jsx(\"div\", {\n      className: \"br-header\"\n    }, __jsx(Header, {\n      page: \"Shop\"\n    })), __jsx(\"div\", {\n      className: \"br-body\"\n    }, __jsx(\"div\", {\n      className: \"sp-body-1\"\n    }, __jsx(Navbar, {\n      page: \"Shop\",\n      status: checkLogin,\n      user: user\n    })), __jsx(\"div\", {\n      className: \"sp-body-2\"\n    }, __jsx(\"div\", {\n      className: \"sp-body-2-header\"\n    }, __jsx(\"h1\", {\n      style: {\n        color: \"black\",\n        fontSize: \"40px\"\n      }\n    }, TypeBland)), __jsx(\"div\", {\n      className: \"sp-body-2-body\"\n    }, product.map((data, index) => {\n      console.log(data, index);\n      return __jsx(CardProduct, {\n        data: data\n      });\n    }))))));\n  }\n}\n\nexport default ShopPage;","map":null,"metadata":{},"sourceType":"module"}