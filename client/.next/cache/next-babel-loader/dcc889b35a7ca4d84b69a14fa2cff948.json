{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\GitHub\\\\covid-web\\\\pages\\\\components\\\\component.audioplayer.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Component, useContext, useEffect, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport Axios from \"axios\";\nimport Duration from \"./component.duration\";\nimport { useDispatch, useSelector } from \"react-redux\"; //import { CounterContext } from \"../../store/CouterProvider\";\n\nimport { updateTime } from \"../../store/actions/postAction\";\nimport img1 from \"../../public/9.png\";\n\nfunction Player(props) {\n  _s();\n\n  var _this = this;\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      time = _useSelector.time;\n\n  var _useState = useState(null),\n      url = _useState[0],\n      seturl = _useState[1]; //const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\n\n\n  var _useState2 = useState(0),\n      duration = _useState2[0],\n      setduration = _useState2[1];\n\n  var _useState3 = useState(false),\n      playing = _useState3[0],\n      setplaying = _useState3[1];\n\n  var _useState4 = useState(false),\n      pip = _useState4[0],\n      setpip = _useState4[1];\n\n  var _useState5 = useState(0),\n      loaded = _useState5[0],\n      setloaded = _useState5[1];\n\n  useEffect(function () {\n    //seturl(props.url);\n    //setplaying(true);\n    //setpip(true);\n    aa();\n  }, [props.url]);\n\n  var handleDuration = function handleDuration(duration) {\n    //setduration(duration);\n    dispatch(updateTime(duration));\n  };\n\n  var handlePlayPause = function handlePlayPause() {\n    a();\n  };\n\n  var aa = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var bb, dd, cc;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              bb = function bb() {\n                return new Promise(function (resolve) {\n                  return resolve(seturl(props.url));\n                });\n              };\n\n              dd = function dd() {\n                return new Promise(function (resolve) {\n                  return resolve(setplaying(true));\n                });\n              };\n\n              cc = function cc() {\n                return new Promise(function (resolve) {\n                  return resolve(setpip(true));\n                });\n              };\n\n              _context.next = 5;\n              return bb();\n\n            case 5:\n              _context.next = 7;\n              return dd();\n\n            case 7:\n              _context.next = 9;\n              return console.log('Audio Again!');\n\n            case 9:\n              _context.next = 11;\n              return cc();\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function aa() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var a = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var b, c;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              b = function b() {\n                return new Promise(function (resolve) {\n                  return resolve(setplaying(false));\n                });\n              };\n\n              c = function c() {\n                return new Promise(function (resolve) {\n                  return resolve(setplaying(true));\n                });\n              };\n\n              _context2.next = 4;\n              return b();\n\n            case 4:\n              _context2.next = 6;\n              return c();\n\n            case 6:\n              _context2.next = 8;\n              return console.log('Audio Again!');\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function a() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var ButtonShow = function ButtonShow() {\n    return __jsx(_Button, {\n      onClick: handlePlayPause,\n      shape: \"circle\",\n      size: \"middle\",\n      className: \"nu-btn-reset-covidqt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, __jsx(\"img\", {\n      src: img1,\n      className: \"img-rotate-audio\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }));\n  };\n\n  if (pip) {\n    console.log('Audio Ready!');\n    return __jsx(\"div\", {\n      style: {\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, __jsx(ReactPlayer, {\n      controls: true,\n      light: false,\n      playing: playing,\n      width: \"0%\",\n      height: \"0%\" //url={url}\n      ,\n      onDuration: handleDuration,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }), playing ? __jsx(ButtonShow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 22\n      }\n    }) : null);\n  } else {\n    return null;\n  }\n}\n\n_s(Player, \"w/8fhweRR/g8lEJtOLYmro/PKWM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Player;\nexport default Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["D:/GitHub/covid-web/pages/components/component.audioplayer.js"],"names":["React","Component","useContext","useEffect","useState","ReactPlayer","Axios","Duration","useDispatch","useSelector","updateTime","img1","Player","props","dispatch","state","post","time","url","seturl","duration","setduration","playing","setplaying","pip","setpip","loaded","setloaded","aa","handleDuration","handlePlayPause","a","bb","Promise","resolve","dd","cc","console","log","b","c","ButtonShow","color"],"mappings":"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","sourcesContent":["import React, { Component, useContext, useEffect, useState } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport Axios from \"axios\";\r\nimport { Form, Button } from \"antd\";\r\nimport Duration from \"./component.duration\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n//import { CounterContext } from \"../../store/CouterProvider\";\r\nimport { updateTime } from \"../../store/actions/postAction\";\r\nimport img1 from \"../../public/9.png\";\r\n\r\nfunction Player(props) {\r\n  const dispatch = useDispatch();\r\n  const { time } = useSelector((state) => state.post);\r\n  const [url, seturl] = useState(null);\r\n  //const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\r\n  const [duration, setduration] = useState(0);\r\n  const [playing, setplaying] = useState(false);\r\n  const [pip, setpip] = useState(false);\r\n  const [loaded, setloaded] = useState(0);\r\n\r\n  useEffect(() => {\r\n    //seturl(props.url);\r\n    //setplaying(true);\r\n    //setpip(true);\r\n    aa();\r\n  }, [props.url]);\r\n\r\n  const handleDuration = (duration) => {\r\n    //setduration(duration);\r\n    dispatch(updateTime(duration));\r\n  };\r\n  const handlePlayPause = () => {\r\n    a();\r\n  }\r\n\r\n  const aa = async () => {\r\n    const bb = () => {return new Promise((resolve)=>resolve(seturl(props.url)))}\r\n    const dd = () => {return new Promise((resolve)=>resolve(setplaying(true)))}\r\n    const cc = () => {return new Promise((resolve)=>resolve(setpip(true)))}\r\n    await bb();\r\n    await dd();\r\n    await console.log('Audio Again!')\r\n    await cc();\r\n    \r\n  }\r\n\r\n\r\n  const a = async () => {\r\n    const b = () => {return new Promise((resolve)=>resolve(setplaying(false)))}\r\n    const c = () => {return new Promise((resolve)=>resolve(setplaying(true)))}\r\n    await b();\r\n    await c();\r\n    await console.log('Audio Again!')\r\n  }\r\n\r\n  const ButtonShow = () => {\r\n    return (\r\n        <Button onClick={handlePlayPause}  shape=\"circle\" size=\"middle\" className=\"nu-btn-reset-covidqt\">\r\n            <img src={img1} className=\"img-rotate-audio\" />\r\n          </Button>\r\n    )\r\n  }\r\n  \r\n\r\n    if (pip) {\r\n      console.log('Audio Ready!')\r\n      return (\r\n        <div style={{ color: \"white\" }}>\r\n          <ReactPlayer\r\n            controls={true}\r\n            light={false}\r\n            playing={playing}\r\n            width=\"0%\"\r\n            height=\"0%\"\r\n            //url={url}\r\n            onDuration={handleDuration}\r\n          />\r\n          {playing ? <ButtonShow /> : null }\r\n\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n}\r\nexport default Player;\r\n"]},"metadata":{},"sourceType":"module"}