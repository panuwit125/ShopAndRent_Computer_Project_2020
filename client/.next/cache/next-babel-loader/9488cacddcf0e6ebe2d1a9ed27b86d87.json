{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nvar _jsxFileName = \"D:\\\\GitHub\\\\covid-web\\\\pages\\\\components\\\\component.audioplayer.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useMemo } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport Axios from \"axios\";\nimport Duration from \"./component.duration\";\nimport { useDispatch, useSelector } from \"react-redux\"; //import { CounterContext } from \"../../store/CouterProvider\";\n\nimport { updateTime } from \"../../store/actions/postAction\";\nimport img1 from \"../../public/9.png\";\n\nfunction Player(props) {\n  const dispatch = useDispatch();\n  const {\n    time\n  } = useSelector(state => state.post);\n  const {\n    0: url,\n    1: seturl\n  } = useState(null); //const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\n\n  const {\n    0: duration,\n    1: setduration\n  } = useState(0);\n  const {\n    0: playing,\n    1: setplaying\n  } = useState(false);\n  const {\n    0: pip,\n    1: setpip\n  } = useState(false);\n  const {\n    0: loaded,\n    1: setloaded\n  } = useState(0);\n  useMemo(() => {\n    setpip(false);\n    seturl(props.url);\n    setplaying(true);\n    setpip(true); //update();\n  }, [props.url]);\n\n  const handleDuration = duration => {//setduration(duration);\n    //dispatch(updateTime(duration));\n  };\n\n  const handlePlayPause = () => {\n    a();\n    console.log(\"test audio\");\n  };\n\n  const a = async () => {\n    const b = () => {\n      return new Promise(resolve => resolve(setplaying(false)));\n    };\n\n    const c = () => {\n      return new Promise(resolve => resolve(setplaying(true)));\n    };\n\n    await b();\n    await c();\n    await console.log(\"Audio Again!\");\n  };\n\n  const ButtonShow = () => {\n    return __jsx(_Button, {\n      onClick: handlePlayPause,\n      shape: \"circle\",\n      size: \"middle\",\n      className: \"nu-btn-reset-covidqt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, __jsx(\"img\", {\n      src: img1,\n      className: \"img-rotate-audio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  if (pip) {\n    console.log(\"Audio Ready!\");\n    return __jsx(\"div\", {\n      style: {\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, __jsx(ReactPlayer, {\n      controls: true,\n      light: false,\n      playing: playing,\n      width: \"0%\",\n      height: \"0%\",\n      url: url,\n      onDuration: handleDuration,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), playing ? __jsx(ButtonShow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 20\n      }\n    }) : null);\n  } else {\n    return null;\n  }\n}\n\nexport default Player;","map":{"version":3,"sources":["D:/GitHub/covid-web/pages/components/component.audioplayer.js"],"names":["React","useState","useMemo","ReactPlayer","Axios","Duration","useDispatch","useSelector","updateTime","img1","Player","props","dispatch","time","state","post","url","seturl","duration","setduration","playing","setplaying","pip","setpip","loaded","setloaded","handleDuration","handlePlayPause","a","console","log","b","Promise","resolve","c","ButtonShow","color"],"mappings":"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","sourcesContent":["import React, { useState, useMemo } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport Axios from \"axios\";\r\nimport { Form, Button } from \"antd\";\r\nimport Duration from \"./component.duration\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n//import { CounterContext } from \"../../store/CouterProvider\";\r\nimport { updateTime } from \"../../store/actions/postAction\";\r\nimport img1 from \"../../public/9.png\";\r\n\r\nfunction Player(props) {\r\n  const dispatch = useDispatch();\r\n  const { time } = useSelector((state) => state.post);\r\n  const [url, seturl] = useState(null);\r\n  //const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\r\n  const [duration, setduration] = useState(0);\r\n  const [playing, setplaying] = useState(false);\r\n  const [pip, setpip] = useState(false);\r\n  const [loaded, setloaded] = useState(0);\r\n\r\n  useMemo(() => {\r\n    setpip(false);\r\n    seturl(props.url);\r\n    setplaying(true);\r\n    setpip(true);\r\n    //update();\r\n  }, [props.url]);\r\n\r\n  const handleDuration = (duration) => {\r\n    //setduration(duration);\r\n    //dispatch(updateTime(duration));\r\n  };\r\n  const handlePlayPause = () => {\r\n    a();\r\n    console.log(\"test audio\");\r\n  };\r\n\r\n  const a = async () => {\r\n    const b = () => {\r\n      return new Promise((resolve) => resolve(setplaying(false)));\r\n    };\r\n    const c = () => {\r\n      return new Promise((resolve) => resolve(setplaying(true)));\r\n    };\r\n    await b();\r\n    await c();\r\n    await console.log(\"Audio Again!\");\r\n  };\r\n\r\n  const ButtonShow = () => {\r\n    return (\r\n      <Button\r\n        onClick={handlePlayPause}\r\n        shape=\"circle\"\r\n        size=\"middle\"\r\n        className=\"nu-btn-reset-covidqt\"\r\n      >\r\n        <img src={img1} className=\"img-rotate-audio\" />\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  if (pip) {\r\n    console.log(\"Audio Ready!\");\r\n    return (\r\n      <div style={{ color: \"white\" }}>\r\n        <ReactPlayer\r\n            controls={true}\r\n            light={false}\r\n            playing={playing}\r\n            width=\"0%\"\r\n            height=\"0%\"\r\n            url={url}\r\n            onDuration={handleDuration}\r\n          />\r\n\r\n        {playing ? <ButtonShow /> : null}\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\nexport default Player;\r\n"]},"metadata":{},"sourceType":"module"}