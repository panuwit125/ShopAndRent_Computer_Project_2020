{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{\"+LI7\":function(e,t,n){\"use strict\";n.r(t);var r,o,i=n(\"o0o1\"),a=n.n(i),s=n(\"HaE+\"),c=n(\"ODXe\"),u=(n(\"nTym\"),n(\"qu0K\")),d=n.n(u),l=n(\"q1tI\"),p=n.n(l),f=n(\"S7Fk\"),h=n.n(f),v=n(\"/MKj\"),m=n(\"S+Er\"),g=n(\"nOHt\"),y=n.n(g),b=(n(\"vDqi\"),n(\"J5DW\")),S=p.a.createElement,w=d.a.Item;t.default=function(){var e=Object(v.b)(),t=p.a.useRef(null),n=p.a.useState(null),i=Object(c.a)(n,2),u=(i[0],i[1],Object(v.c)((function(e){return e.post})).token,Object(l.useState)(!1)),d=u[0],f=u[1],g=Object(l.useState)(10),O=g[0],x=g[1],j=Object(l.useState)(\"block\"),M=j[0],U=j[1],k=Object(l.useState)(\"none\"),C=k[0],E=k[1];Object(l.useEffect)((function(){e(Object(m.f)(localStorage.getItem(\"jwt\"))),localStorage.getItem(\"jwt\")?f(!0):y.a.push(\"/page.covid1\")}),[]),Object(l.useEffect)((function(){if(0===O)E(\"block\"),r=\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e23\\u0e2d\\u0e2a\\u0e31\\u0e01\\u0e04\\u0e23\\u0e39\\u0e48\",A();else{if(O<=0)return null;setTimeout((function(){x(O-1),1===O&&U(\"none\")}),[1e3])}}),[O]);var D=function(t){E(\"none\");var n=t;console.log(n),\"111\"===n.code?(r=\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e16\\u0e2d\\u0e14\\u0e2b\\u0e19\\u0e49\\u0e32\\u0e01\\u0e32\\u0e01\",o=\"\\u0e08\\u0e30\\u0e40\\u0e23\\u0e34\\u0e48\\u0e21\\u0e17\\u0e33\\u0e01\\u0e32\\u0e23\\u0e1a\\u0e31\\u0e19\\u0e17\\u0e36\\u0e01\\u0e20\\u0e32\\u0e1e\\u0e43\\u0e2b\\u0e21\\u0e48\",E(\"block\"),setTimeout((function(){E(\"none\"),r=\"\",o=\"\",x(10),U(\"block\")}),[5e3])):\"100\"===n.code?(console.log(n.code),localStorage.setItem(\"user\",JSON.stringify(t.payload)),e(Object(m.e)(t.payload.cid)),e(Object(m.b)(t.payload.fisrt_name)),e(Object(m.c)(t.payload.last_name)),r=\"\\u0e1e\\u0e1a\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\",o=\"\\u0e01\\u0e33\\u0e25\\u0e31\\u0e07\\u0e44\\u0e1b\\u0e2b\\u0e19\\u0e49\\u0e32\\u0e15\\u0e48\\u0e2d\\u0e44\\u0e1b\",E(\"block\"),setTimeout((function(){r=\"\",o=\"\",y.a.push(\"/page.covid4\")}),[2e3])):\"110\"===n.code&&(r=\"\\u0e44\\u0e21\\u0e48\\u0e1e\\u0e1a\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\",o=\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e42\\u0e0a\\u0e27\\u0e4c\\u0e1a\\u0e31\\u0e15\\u0e23\\u0e1b\\u0e23\\u0e30\\u0e0a\\u0e32\\u0e0a\\u0e19\\u0e41\\u0e17\\u0e19\",E(\"block\"),setTimeout((function(){E(\"none\"),r=\"\",o=\"\",x(10),U(\"block\")}),[5e3]))};function P(e){return new Promise(function(){var t=Object(s.a)(a.a.mark((function t(n){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){var t=Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,console.log(\"A\",e);case 2:return t.next=4,new FormData;case 4:return n=t.sent,t.next=7,n.append(\"picture\",e);case 7:return t.abrupt(\"return\",n);case 8:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(\"FormData\",i),D({code:\"100\",payload:{cid:3640600077526,fisrt_name:\"Panuwit\",last_name:\"Makmee\"}});case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.next=4,r();case 4:return i=t.sent,t.next=7,o();case 7:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var _=function(){var e=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(s.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(s.a)(a.a.mark((function e(){var r,o,i,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.current.getScreenshot();case 2:return r=e.sent,localStorage.setItem(\"image\",r),e.next=6,r.split(\";\");case 6:return o=e.sent,e.next=9,o[0].split(\":\")[1];case 9:return i=e.sent,e.next=12,o[1].split(\",\")[1];case 12:return s=e.sent,e.next=15,I(s,i);case 15:c=e.sent,n(c);case 17:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,r();case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return n=e.sent,e.next=5,P(n);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){_()};function I(e,t,n){t=t||\"\",n=n||512;for(var r=atob(e),o=[],i=0;i<r.length;i+=n){for(var a=r.slice(i,i+n),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);var u=new Uint8Array(s);o.push(u)}return new Blob(o,{type:t})}if(d){return S(\"div\",null,S(w,null,S(\"div\",{style:{display:M},className:\"modal\"},S(\"div\",{className:\"modal-content\"},S(\"h1\",{style:{fontSize:\"100px\",opacity:\"0.8\"}},O))),S(\"div\",{style:{display:C},className:\"modal cl-modal\"},S(\"div\",{className:\"modal-content cl-modal-content\"},S(b.default,{page:\"snapshot\",textAlertOne:r,textAlertTwo:o}))),S(\"div\",null,S(h.a,{audio:!1,ref:t,screenshotFormat:\"image/jpeg\",style:{borderRadius:\"20px\",color:\"white\"}}))))}return null}},J5DW:function(e,t,n){\"use strict\";n.r(t);n(\"nTym\");var r=n(\"qu0K\"),o=n.n(r),i=n(\"q1tI\"),a=n.n(i).a.createElement,s=o.a.Item;t.default=function(e){return e.page,a(s,null,a(\"div\",{style:{width:\"398px\",height:\"222px\",background:\"white\",borderRadius:\"25px\",padding:\"20px\",flexDirection:\"column\",textAlign:\"center\"},className:\"nu-font-covid\"},a(\"div\",null,a(\"h1\",{style:{color:\"#EC6E00\",fontSize:\"35px\"}},e.textAlertOne)),a(\"div\",null,a(\"h1\",{style:{color:\"black\",fontSize:\"22px\"}},e.textAlertTwo))))}},S7Fk:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=\"./src/react-webcam.tsx\")}({\"./src/react-webcam.tsx\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"react\"),o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}\"undefined\"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error(\"getUserMedia is not implemented in this browser\"))}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.state={hasUserMedia:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;s()?e.hasUserMedia||this.requestUserMedia():t.onUserMediaError(\"getUserMedia not supported\")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),o=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(r||o||i)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError(\"getUserMedia not supported\")},t.prototype.componentWillUnmount=function(){this.stopAndCleanup()},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(this.stream&&(this.stream.getVideoTracks&&this.stream.getAudioTracks?(this.stream.getVideoTracks().map((function(e){return e.stop()})),this.stream.getAudioTracks().map((function(e){return e.stop()}))):this.stream.stop()),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,o=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=r/o;o=(r=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&o<n.minScreenshotHeight&&(r=(o=n.minScreenshotHeight)*i)}this.canvas=document.createElement(\"canvas\"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||o,this.ctx=this.canvas.getContext(\"2d\")}var a=this.ctx,s=this.canvas;return a&&s&&(n.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=n.imageSmoothing,a.drawImage(this.video,0,0,s.width,s.height),n.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,t=this.props,n=function(n,r){var o={video:\"undefined\"===typeof r||r};t.audio&&(o.audio=\"undefined\"===typeof n||n),navigator.mediaDevices.getUserMedia(o).then((function(t){e.handleUserMedia(null,t)})).catch((function(t){e.handleUserMedia(t)}))};if(\"mediaDevices\"in navigator)n(t.audioConstraints,t.videoConstraints);else{var r=function(e){return{optional:[{sourceId:e}]}},o=function(e){var t=e.deviceId;return\"string\"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:\"object\"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var i=null,a=null;e.forEach((function(e){\"audio\"===e.kind?i=e.id:\"video\"===e.kind&&(a=e.id)}));var s=o(t.audioConstraints);s&&(i=s);var c=o(t.videoConstraints);c&&(a=c),n(r(i),r(a))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,o=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,u=void 0===c?{}:c,d=a(n,[\"audio\",\"forceScreenshotSourceSize\",\"onUserMedia\",\"onUserMediaError\",\"screenshotFormat\",\"screenshotQuality\",\"minScreenshotWidth\",\"minScreenshotHeight\",\"audioConstraints\",\"videoConstraints\",\"imageSmoothing\",\"mirrored\",\"style\"]),l=s?i(i({},u),{transform:(u.transform||\"\")+\" scaleX(-1)\"}):u;return r.createElement(\"video\",i({autoPlay:!0,src:t.src,muted:o,playsInline:!0,ref:function(t){e.video=t},style:l},d))},t.defaultProps={audio:!0,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:\"image/webp\",screenshotQuality:.92},t}(r.Component);t.default=c},react:function(t,n){t.exports=e}}).default},e.exports=r(n(\"q1tI\"))}}]);","extractedComments":[]}